<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Building Optimization Baseline</title>
  <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"/>
  <link rel="stylesheet" href="CSS/styles.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>

<!-- Menú superior -->
<header>
  <nav class="menu">

    <div class="logo-container">
      <img src="../templates/IMG/imagen%20bob.png" alt="Logo BOB" class="logo">
      <div class="logo-text-container">
        <h1 class="logo-text">Building Optimization Baseline</h1>
        <p class="logo-subtext">Gestión inteligente de proyectos de construcción</p>
      </div>
    </div>

    <ul class="nav-links">
      <li><a href="error404.html">Perfil</a></li>
      <li><a href="index.html" class="active">Cerrar Sesión</a></li>
    </ul>
  </nav>
</header>
<!-- Menú lateral -->
<main>
  <div class="menu-dasboard">
    <div class="menu">
      <a class="enlace" href="#inventario"><i class="bx bx-box"></i><span>Inventario</span></a>
      <a class="enlace" href="#avances"><i class="bx bx-buildings"></i><span>Avances</span></a>
      <a class="enlace" href="#contratista"><i class="bx bx-receipt"></i><span>Contratista</span></a>
      <a class="enlace" href="#presupuesto"><i class="bx bx-money-withdraw"></i><span>Presupuesto</span></a>
      <a class="enlace" href="#proveedores"><i class="bx bx-hard-hat"></i><span>Proveedores</span></a>
      <a class="enlace" href="#usuarios"><i class="bx bxs-user-detail"></i><span>Usuarios</span></a>
    </div>
  </div>

  <!-- Contenido de inventario -->
  <div class="content-inventario">
    <div id="inventario" class="content-section">
      <h2>Inventario</h2>
      <p>Información sobre el inventario de materiales y productos.</p>
      <div class="botones">
        <a href="#formulario-inventario" class="boton-accinador">Nuevo registro</a>
        <a href="#ver-registro" class="boton-accinador">Ver registro</a>
        <a href="actualizar_INV.php" class="boton-accinador" target="_blank">Actualizar registro</a>
        <a href="borrar_INV.php" class="boton-accinador" target="_blank">Borrar registro</a>
      </div>
    </div>

    <!--Parte de inventario-->
    <!--Nuevo registro-->
    <div id="formulario-inventario" class="formulario">
      <div class="diseño-formulario">
        <h3>Formulario de inventario</h3>
        <form action="procesar_INV.php" method="POST">

          <!--Campos a rellenar-->
          <label for="usuario">Confirme gestor:</label>
          <input type="text" id="usuario" name="usuario" required><br><br>

          <label for="obra">Nombre de la obra:</label>
          <input type="text" id="obra" name="obra" required><br><br>

          <label for="tipo">Tipo de registro:</label>
          <select id="tipo" name="tipo" required>
            <option value="ingreso">Ingreso</option>
            <option value="consumo">Consumo</option>
            <option value="presupuesto">Presupuesto</option>
          </select><br><br>

          <label for="fecha">Fecha:</label>
          <input type="date" id="fecha" name="fecha" required><br><br>

          <label for="cantidad">Cantidad:</label>
          <input type="number" id="cantidad" name="cantidad" step="0.01" required><br><br>

          <label for="unidades">Unidad de medida:</label>
          <input type="text" id="unidades" name="unidades" required><br><br>

          <label for="material">Material:</label>
          <input type="text" id="material" name="material" required><br><br>

          <label for="precio">Precio por unidad de medida:</label>
          <input type="number" id="precio" name="precio" required><br><br>

          <button type="submit">Registrar</button>
          <br><br>
          <a href="#inventario" class="boton-mover">← Volver</a>
        </form>
      </div>
    </div>


    <!--Ver reportes-->
    <div id="ver-registro" class="ver-registro-material">
      <div class="diseño-ver-registro">
        <h3>Gestión de Inventarios</h3>
        <a href="reporte_INV.php" class="boton-ver">Ver Reporte</a>
        <a href="#inventario" class="boton-regreso">← Volver</a>
      </div>
    </div>

  </div>

  <!--Modulos faltantes-->
  <div id="avances" class="content-section">
    <h2>Avances</h2>
    <p>Detalles de los avances en los proyectos de construcción.</p>
  </div>
  <div id="contratista" class="content-section">
    <h2>Contratista</h2>
    <p>Detalles sobre los contratistas asociados al proyecto.</p>
  </div>
  <div id="presupuesto" class="content-section">
    <h2>Presupuesto</h2>
    <p>Visualización y gestión del presupuesto del proyecto.</p>
  </div>
  <div id="proveedores" class="content-section">
    <h2>Proveedores</h2>
    <p>Información de los proveedores de materiales y servicios.</p>
  </div>


  <!--Modulo de usuario-->

  <!-- Módulo de Usuarios -->
  <div class="content-usuario">
    <div id="usuarios" class="content-section">
      <h2>Usuarios</h2>
      <p>Información sobre los usuarios registrados.</p>
      <div class="botones">
        <a href="#formulario-usuario" class="boton-accinador">Nuevo Usuario</a>
        <a href="#ver-usuario" class="boton-accinador">Ver Usuarios</a>
        <a href="actualizar.php" class="boton-accinador" target="_blank">Actualizar Usuario</a>
        <a href="borrar.php" class="boton-accinador" target="_blank">Eliminar Usuario</a>
      </div>
    </div>

    <!-- Nuevo usuario -->
    <div id="formulario-usuario" class="formulario">
      <div class="diseño-formulario-usuario">
        <h3>Registrar Nuevo Usuario</h3>
        <form action="procesar.php" method="POST">
          <label for="nombre">Nombre:</label>
          <input type="text" name="nombre" required><br><br>

          <label for="apellido">Apellido:</label>
          <input type="text" name="apellido" required><br><br>

          <label for="cedula">Cédula:</label>
          <input type="number" name="cedula" required><br><br>

          <label for="correo">Correo:</label>
          <input type="email" name="correo" required><br><br>

          <label for="direccion">Dirección:</label>
          <input type="text" name="direccion" required><br><br>

          <label for="tipo_persona">Tipo de Persona:</label>
          <select name="tipo_persona" required>
            <option value="proveedor">Proveedor</option>
            <option value="usuario">Usuario</option>
            <option value="contratista">Contratista</option>
          </select><br><br>



          <label for="rol">Rol:</label>
          <select id="rol" name="rol">
            <option value="">--Seleccione--</option>
            <option value="operativo">Operativo</option>
            <option value="supervisor">Supervisor</option>
            <option value="director">Directivo</option>
          </select><br><br>


          <script>
            function toggleRolDropdown() {//para que aparezca el selector de rol cuando elige "usuario"
                const tipoPersona = document.getElementById('tipo_persona').value;
                const rolContainer = document.getElementById('rol-container');
                const rolSelect = document.getElementById('rol');

                if (tipoPersona === 'usuario') {
                    rolContainer.style.display = 'block';
                    rolSelect.required = true;
                } else {
                    rolContainer.style.display = 'none';
                    rolSelect.required = false;
                    rolSelect.value = ''; // Sin selección cuando está oculto
                }
            }

            // MCuando arranca la página inicie
            document.addEventListener('DOMContentLoaded', toggleRolDropdown);
            // <!--detectar cambios-->
            document.getElementById('tipo_persona').addEventListener('change', toggleRolDropdown);
          </script>

          <label for="telefono">Teléfono:</label>
          <input type="number" id="telefono" name="telefono" required><br><br>

          <label for="contrasenna">Contraseña:</label>
          <input type="password" id="contrasenna" name="contrasenna" required><br><br>

          <button type="submit">Registrar</button>
          <br><br>
          <a href="#usuarios" class="boton-mover">← Volver</a>
        </form>
      </div>
    </div>

    <!--Ver Usuarios-->
    <div id="ver-usuario" class="ver-usuarios-registrados">
      <div class="diseño-ver-usuario">
        <h3>Visualizar los usuarios</h3>
        <a href="reporte.php">Ver personal</a>
        <a href="#usuarios" class="boton-regreso">← Volver</a>
      </div>
    </div>
  </div>
</main>
<footer>
  <div class="footer-content">
    <div class="footer-section">
      <h4>Contacto</h4>
      <p>carta.v.devhouse@gmail.com</p>
      <p>+57 321 433 8064</p>
    </div>
    <div class="footer-section">
      <h4>Enlaces rápidos</h4>
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="login.html">Login</a></li>
        <li><a href="#servicios">Servicios</a></li>
      </ul>
    </div>
    <div class="footer-section">
      <h4>Legal</h4>
      <ul>
        <li><a href="#">Términos y condiciones</a></li>
        <li><a href="#">Política de privacidad</a></li>
      </ul>
    </div>
  </div>
  <div class="footer-bottom">
    <p>&copy; 2025 Building Optimization Baseline. Todos los derechos reservados.</p>
  </div>
</footer>
</body>
