<!DOCTYPE html>
<html lang="es" xmlns:th="http://thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Building Optimization Baseline - Dashboard</title>
  <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"/>
  <link rel="stylesheet" href="../static/CSS/styles.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>

<!-- Menú superior -->
<header>
  <nav class="menu">

    <div class="logo-container">
      <img src="../static/IMG/imagen-bob.png" alt="Logo BOB" class="logo">
      <div class="logo-text-container">
        <h1 class="logo-text">Building Optimization Baseline</h1>
        <p class="logo-subtext">Gestión inteligente de proyectos de construcción</p>
      </div>
    </div>

    <ul class="nav-links">
      <li><a th:href="@{error404.html}">Perfil</a></li>
      <li><a th:href="@{index.html}" class="active">Cerrar Sesión</a></li>
    </ul>
  </nav>
</header>

<!-- Menú lateral y contenido -->
<main>
  <div class="menu-dasboard">
    <div class="menu">
      <a class="enlace" href="dashboardADMIN.html"><i class="bx bx-home"></i><span>Inicio</span></a>
      <a class="enlace" href="inventario.html"><i class="bx bx-box"></i><span>Inventario</span></a>
      <a class="enlace" href="avances.html"><i class="bx bx-buildings"></i><span>Avances</span></a>
      <a class="enlace" href="contratista.html"><i class="bx bx-receipt"></i><span>Contratista</span></a>
      <a class="enlace" href="presupuesto.html"><i class="bx bx-money-withdraw"></i><span>Presupuesto</span></a>
      <a class="enlace" href="proveedores.html"><i class="bx bx-hard-hat"></i><span>Proveedores</span></a>
      <a class="enlace" href="usuarios.html"><i class="bx bxs-user-detail"></i><span>Usuarios</span></a>
      <a class="enlace" href="#reportes"><i class="bx bx-line-chart"></i><span>Reportes</span></a>
      <a class="enlace" href="#configuracion"><i class="bx bx-cog"></i><span>Configuración</span></a>
    </div>
  </div>

  <div class="dashboard-content">
    <!-- Encabezado con estadísticas -->
    <div class="user-management-header">
      <div class="header-title">
        <h2><i class='bx bxs-user-detail'></i> Gestión de Usuarios</h2>
        <p>Administra los usuarios del sistema</p>
      </div>
      <button class="btn-primary" id="registerUserBtn">
        <i class='bx bx-user-plus'></i> Registrar Nuevo Usuario
      </button>
    </div>

    <!-- Filtros y búsqueda -->
    <div class="user-controls">
      <div class="search-control">
        <i class='bx bx-search'></i>
        <input type="text" placeholder="Buscar usuario..." class="search-input">
      </div>

      <div class="filter-controls">
        <select class="filter-select">
          <option value="all">Todos los roles</option>
          <option value="admin">Administradores</option>
          <option value="supervisor">Supervisores</option>
          <option value="operator">Operativos</option>
        </select>

        <select class="filter-select">
          <option value="all">Todos los estados</option>
          <option value="active">Activos</option>
          <option value="inactive">Inactivos</option>
        </select>

        <button class="btn-export">
          <i class='bx bx-download'></i> Exportar
        </button>
      </div>
    </div>

    <!-- Tarjetas de resumen -->
    <div class="user-stats-cards">
      <div class="stat-card">
        <div class="stat-icon admin">
          <i class='bx bx-shield-alt'></i>
        </div>
        <div class="stat-info">
          <span class="stat-value">3</span>
          <span class="stat-label">Administradores</span>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon supervisor">
          <i class='bx bx-clipboard'></i>
        </div>
        <div class="stat-info">
          <span class="stat-value">5</span>
          <span class="stat-label">Supervisores</span>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon operator">
          <i class='bx bx-hard-hat'></i>
        </div>
        <div class="stat-info">
          <span class="stat-value">12</span>
          <span class="stat-label">Operativos</span>
        </div>
      </div>

      <div class="stat-card">
        <div class="stat-icon total">
          <i class='bx bx-group'></i>
        </div>
        <div class="stat-info">
          <span class="stat-value">20</span>
          <span class="stat-label">Usuarios totales</span>
        </div>
      </div>
    </div>

    <!-- Tabla de usuarios -->
    <div class="user-table-container">
      <table class="user-table">
        <thead>
        <tr>
          <th>Usuario</th>
          <th>Información</th>
          <th>Rol</th>
          <th>Proyectos</th>
          <th>Estado</th>
          <th>Última actividad</th>
          <th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <!-- Ejemplo de usuario administrador -->
        <tr>
          <td>
            <div class="user-avatar-container">
              <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Admin User" class="user-avatar">
              <div class="user-name">
                <strong>admin.user</strong>
                <small>Registrado: 15/03/2023</small>
              </div>
            </div>
          </td>
          <td>
            <div class="user-details">
              <div>Carlos Andrés Pérez</div>
              <div><i class='bx bx-envelope'></i> admin@empresa.com</div>
              <div><i class='bx bx-phone'></i> 300 123 4567</div>
            </div>
          </td>
          <td>
                        <span class="user-role admin">
                            <i class='bx bx-shield-alt'></i> Administrador
                        </span>
          </td>
          <td>Todos los proyectos</td>
          <td>
                        <span class="user-status active">
                            <i class='bx bx-check-circle'></i> Activo
                        </span>
          </td>
          <td>Hoy, 09:45 AM</td>
          <td>
            <div class="user-actions">
              <button class="btn-action edit" title="Editar usuario">
                <i class='bx bx-edit-alt'></i>
              </button>
              <button class="btn-action reset" title="Restablecer contraseña">
                <i class='bx bx-refresh'></i>
              </button>
              <button class="btn-action disable" title="Desactivar usuario">
                <i class='bx bx-user-x'></i>
              </button>
            </div>
          </td>
        </tr>

        <!-- Ejemplo de usuario supervisor -->
        <tr>
          <td>
            <div class="user-avatar-container">
              <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Supervisor User" class="user-avatar">
              <div class="user-name">
                <strong>sup.maria</strong>
                <small>Registrado: 20/04/2023</small>
              </div>
            </div>
          </td>
          <td>
            <div class="user-details">
              <div>María Fernanda Gómez</div>
              <div><i class='bx bx-envelope'></i> maria.g@empresa.com</div>
              <div><i class='bx bx-phone'></i> 310 987 6543</div>
            </div>
          </td>
          <td>
                        <span class="user-role supervisor">
                            <i class='bx bx-clipboard'></i> Supervisor
                        </span>
          </td>
          <td>Torres del Norte, Residencias Verde</td>
          <td>
                        <span class="user-status active">
                            <i class='bx bx-check-circle'></i> Activo
                        </span>
          </td>
          <td>Ayer, 04:30 PM</td>
          <td>
            <div class="user-actions">
              <button class="btn-action edit" title="Editar usuario">
                <i class='bx bx-edit-alt'></i>
              </button>
              <button class="btn-action reset" title="Restablecer contraseña">
                <i class='bx bx-refresh'></i>
              </button>
              <button class="btn-action disable" title="Desactivar usuario">
                <i class='bx bx-user-x'></i>
              </button>
            </div>
          </td>
        </tr>

        <!-- Ejemplo de usuario operativo -->
        <tr>
          <td>
            <div class="user-avatar-container">
              <img src="https://randomuser.me/api/portraits/men/67.jpg" alt="Operator User" class="user-avatar">
              <div class="user-name">
                <strong>op.juan</strong>
                <small>Registrado: 05/05/2023</small>
              </div>
            </div>
          </td>
          <td>
            <div class="user-details">
              <div>Juan David Rodríguez</div>
              <div><i class='bx bx-envelope'></i> juan.r@empresa.com</div>
              <div><i class='bx bx-phone'></i> 320 456 7890</div>
            </div>
          </td>
          <td>
                        <span class="user-role operator">
                            <i class='bx bx-hard-hat'></i> Operativo
                        </span>
          </td>
          <td>Torres del Norte</td>
          <td>
                        <span class="user-status inactive">
                            <i class='bx bx-x-circle'></i> Inactivo
                        </span>
          </td>
          <td>15/06/2023, 10:20 AM</td>
          <td>
            <div class="user-actions">
              <button class="btn-action edit" title="Editar usuario">
                <i class='bx bx-edit-alt'></i>
              </button>
              <button class="btn-action reset" title="Restablecer contraseña">
                <i class='bx bx-refresh'></i>
              </button>
              <button class="btn-action enable" title="Activar usuario">
                <i class='bx bx-user-check'></i>
              </button>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <!-- Paginación -->
    <div class="table-pagination">
      <span class="pagination-info">Mostrando 1-3 de 20 usuarios</span>
      <div class="pagination-controls">
        <button class="pagination-btn" disabled>
          <i class='bx bx-chevron-left'></i>
        </button>
        <button class="pagination-btn active">1</button>
        <button class="pagination-btn">2</button>
        <button class="pagination-btn">3</button>
        <button class="pagination-btn">
          <i class='bx bx-chevron-right'></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Modal de registro de usuario -->
  <div class="modal" id="registerUserModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3><i class='bx bx-user-plus'></i> Registrar Nuevo Usuario</h3>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="registerUserForm">
          <div class="form-section">
            <h4 class="section-title">Información Personal</h4>
            <div class="form-row">
              <div class="form-group">
                <label for="firstName">Nombres *</label>
                <input type="text" id="firstName" required>
              </div>
              <div class="form-group">
                <label for="lastName">Apellidos *</label>
                <input type="text" id="lastName" required>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="email">Correo Electrónico *</label>
                <input type="email" id="email" required>
              </div>
              <div class="form-group">
                <label for="phone">Teléfono *</label>
                <input type="tel" id="phone" required>
              </div>
            </div>
          </div>

          <div class="form-section">
            <h4 class="section-title">Credenciales de Acceso</h4>
            <div class="form-row">
              <div class="form-group">
                <label for="username">Nombre de Usuario *</label>
                <input type="text" id="username" required>
              </div>
              <div class="form-group">
                <label for="role">Rol en el Sistema *</label>
                <select id="role" required>
                  <option value="">Seleccionar rol...</option>
                  <option value="admin">Administrador</option>
                  <option value="supervisor">Supervisor</option>
                  <option value="operator">Operativo</option>
                </select>
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="password">Contraseña *</label>
                <div class="password-input">
                  <input type="password" id="password" required>
                  <button type="button" class="show-password">
                    <i class='bx bx-show'></i>
                  </button>
                </div>
                <div class="password-strength">
                  <span class="strength-bar"></span>
                  <span class="strength-bar"></span>
                  <span class="strength-bar"></span>
                  <span class="strength-text">Seguridad: Débil</span>
                </div>
              </div>
              <div class="form-group">
                <label for="confirmPassword">Confirmar Contraseña *</label>
                <div class="password-input">
                  <input type="password" id="confirmPassword" required>
                  <button type="button" class="show-password">
                    <i class='bx bx-show'></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="form-section">
            <h4 class="section-title">Asignación de Proyectos</h4>
            <div class="form-group">
              <label>Proyectos asignados</label>
              <div class="project-selection">
                <div class="project-checkbox">
                  <input type="checkbox" id="project1" name="projects" value="torres">
                  <label for="project1">Torres del Norte</label>
                </div>
                <div class="project-checkbox">
                  <input type="checkbox" id="project2" name="projects" value="residencias">
                  <label for="project2">Residencias Verde</label>
                </div>
                <div class="project-checkbox">
                  <input type="checkbox" id="project3" name="projects" value="centro">
                  <label for="project3">Centro Comercial Plaza</label>
                </div>
                <div class="project-checkbox">
                  <input type="checkbox" id="project4" name="projects" value="edificio">
                  <label for="project4">Edificio Corporativo</label>
                </div>
              </div>
              <small class="form-note">Los administradores tienen acceso a todos los proyectos automáticamente</small>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary close-modal">Cancelar</button>
            <button type="submit" class="btn-primary">
              <i class='bx bx-save'></i> Registrar Usuario
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

</main>
<footer>
  <div class="footer-bottom">
    <p>&copy; 2025 Building Optimization Baseline. Todos los derechos reservados.</p>
  </div>
</footer>
</body>
</html>